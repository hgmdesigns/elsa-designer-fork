import{c as n,b as r}from"./p-25c0eb4f.js";const t=new(n((function(n){n.exports=function(){this.listeners={},this.registerListener=function(r,t,e){var i=r.constructor.name;e=this.validateNumber(e||"any"),"Array"!==i&&(r=[r]),r.forEach((function(r){if("String"!==r.constructor.name)throw new Error("Only `String` and array of `String` are accepted for the event names!");n.listeners[r]=n.listeners[r]||[],n.listeners[r].push({callback:t,number:e})}))},this.validateNumber=function(n){var r=n.constructor.name;if("Number"===r)return n;if("String"===r&&"any"===n.toLowerCase())return"any";throw new Error("Only `Number` and `any` are accepted in the number of possible executions!")},this.toBeRemoved=function(n){var r=n.number;return n.execution=n.execution||0,n.execution++,!("any"===r||n.execution<r)};var n=this;return{on:function(r,t){n.registerListener.bind(n)(r,t,"any")},once:function(r,t){n.registerListener.bind(n)(r,t,1)},exactly:function(r,t,e){n.registerListener.bind(n)(t,e,r)},die:function(r){delete n.listeners[r]},off:function(n){this.die(n)},detach:function(r,t){if(void 0===t)return n.listeners[r]=[],!0;for(var e in n.listeners[r])if(n.listeners[r].hasOwnProperty(e)&&n.listeners[r][e].callback===t)return n.listeners[r].splice(e,1),this.detach(r,t);return!0},detachAll:function(){for(var r in n.listeners)n.listeners.hasOwnProperty(r)&&this.detach(r)},emit:function(r,t){var e=[];for(name in n.listeners)if(n.listeners.hasOwnProperty(name)&&(name===r&&Array.prototype.push.apply(e,n.listeners[name]),name.indexOf("*")>=0)){var i=name.replace(/\*\*/,"([^.]+.?)+");i=i.replace(/\*/g,"[^.]+");var a=r.match(i);a&&r===a[0]&&Array.prototype.push.apply(e,n.listeners[name])}var o=arguments;t=t||this,e.forEach((function(e,i){var a=e.callback;t&&(a=a.bind(t));var f=[];Object.keys(o).map((function(n){n>1&&f.push(o[n])})),n.toBeRemoved(e)&&n.listeners[r].splice(i,1),a.apply(null,f)}))}}}})));export{t as e}